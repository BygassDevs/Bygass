<div id = "stuff"></div>
<div id = "content">
<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" type="image/x-icon" href="">
    <script src = "../favicon.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel = "stylesheet" href = "../style.css"/>
  <script src = "../gxmes.js"></script>


    <title>Gxme hub | Gxmes</title>
  </head>
  <body class = "loaded">
    <div class="topnav">
      <a href = "../">Home</a>
      |
      <a href="../announcements/">Announcements</a>
      |
      <a href="../about/">Sites</a>
      |
      <a href="../gxmes/">Gxmes</a>
      |
      <a href="../mc/">Eaglrcraft</a>
      |
      <a href="../pxy/">Bygass</a>
      |
      <a href="../settings/">Settings</a>
      |
      <a href="https://www.google.com">Eject</a>
    </div> 
    <br>
    <h1 style="font-size:50px">Gxmes</h1>
    <form>
      <input name = "q" type = "text" placeholder = "Search for "/>
            <button type="submit"><i class="fa fa-search"></i></button>
    </form>
    <br>
      <div class="dropdown">
  <button class="dropbtn">Filter by genre</button>
  <div class="dropdown-content">
    <a data-type = "pzl" href="#">Puzzle</a>
    <a data-type = "run" href="#">Running</a>
    <a data-type = "drv" href="#">Driving/Flying</a>
    <a data-type = "sht" href="#">Shooter</a>
    <a data-type = "plt" href="#">Platformer</a>
    <a data-type = "idl" href="#">Idle</a>
    <a data-type = "spt" href="#">Sport</a>
    <a data-type = "msc" href="#">Misc</a>
    <a data-type = "hrr" href="#">Horror</a>
    <a data-type = "app" href="#">Apps</a>
    
    
  </div>
</div><br><br>
    <script defer>
    const params = new Proxy(new URLSearchParams(window.location.search), {
      get: (searchParams, prop) => searchParams.get(prop),
    });
    const query = params?.q;
    const type = params?.t ?? ".*";
    const paramLow = query ? query.toLowerCase() : ""
    const listOfGames = ([
    // add gxmes here
    /*
    run = run w/ traps
    drv = drive
    sht = shooter
    msc = miscellanious
    plt = platformer
    idl = idle
    */
    ["Tetris","pzl"],
    ["Run 3","run"],
    ["GeForce Now","app"]
    
    
    
    ]).filter(e=>e[0].toLowerCase().match(new RegExp(`^${paramLow}.*`))).filter(e=>e[1].match(type))
      listOfGames.forEach(name => document.body.innerHTML += `<h2 class = "h2">${name[0]}</h2><br>`)
      document.querySelector("input").value = query
        elemsrendered()
        document.querySelectorAll(".dropdown-content a").forEach(e=>e.addEventListener("click",() => {
          location.href = "./?t=" + e.dataset.type
        }))
        </script>
<div class="container">
  <h1 class="heading" data-target-resolver></h1>
</div>
  </body>
</html>
</div>
